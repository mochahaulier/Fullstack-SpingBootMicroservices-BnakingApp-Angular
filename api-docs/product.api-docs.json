{"openapi":"3.0.1","info":{"title":"Product Service API","description":"This is the REST API for the Product Service","license":{"name":"Apache 2.0"},"version":"v1.0"},"servers":[{"url":"http://d62ed24e826b:8084","description":"Generated server url"}],"paths":{"/api/v1/products/{id}":{"get":{"tags":["product-controller"],"operationId":"getProductById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}}}},"put":{"tags":["product-controller"],"operationId":"updateProductRate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductUpdateRequest"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/v1/products":{"get":{"tags":["product-controller"],"operationId":"getAllProducts","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}}}},"post":{"tags":["product-controller"],"operationId":"createProduct","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductCreationRequest"}}},"required":true},"responses":{"201":{"description":"Created"}}}},"/api/v1/product-definitions":{"get":{"tags":["product-definition-controller"],"operationId":"getAllProductDefinitions","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductDefinitionResponse"}}}}}},"post":{"tags":["product-definition-controller"],"operationId":"processProductDefinitions","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDefinitionRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductDefinitionProcessResponse"}}}}}}},"/api/v1/products/by-definition/{definitionId}":{"get":{"tags":["product-controller"],"operationId":"getProductsByDefinition","parameters":[{"name":"definitionId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}}}}}},"components":{"schemas":{"ProductUpdateRequest":{"required":["adjustedRate","productDefinitionKey"],"type":"object","properties":{"productDefinitionKey":{"type":"integer","format":"int64"},"adjustedRate":{"minimum":0.0,"exclusiveMinimum":true,"type":"number"}}},"ProductCreationRequest":{"required":["adjustedRate","productDefinitionKey"],"type":"object","properties":{"productDefinitionKey":{"maxLength":6,"minLength":6,"type":"string"},"adjustedRate":{"minimum":0.0,"exclusiveMinimum":true,"type":"number"}}},"DefinitionRequest":{"required":["description","operation","payRate","productKey","rate","type"],"type":"object","properties":{"operation":{"type":"string","enum":["N","U",""]},"productKey":{"maxLength":6,"minLength":6,"type":"string"},"description":{"type":"string"},"type":{"pattern":"^(ACCOUNT|LOAN)$","type":"string"},"rate":{"minimum":0.0,"exclusiveMinimum":true,"type":"number"},"payRate":{"$ref":"#/components/schemas/PayRateDto"}}},"PayRateDto":{"required":["unit","value"],"type":"object","properties":{"unit":{"pattern":"^(DAY|MONTH)$","type":"string"},"value":{"type":"integer","format":"int32"}}},"ProductDefinitionRequest":{"required":["definitions"],"type":"object","properties":{"definitions":{"type":"array","items":{"$ref":"#/components/schemas/DefinitionRequest"}}}},"ProductDefinitionProcessResponse":{"type":"object","properties":{"errors":{"type":"array","items":{"type":"string"}},"successes":{"type":"array","items":{"type":"string"}}}},"ProductItem":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"productDefinitionKey":{"type":"string"},"productType":{"type":"string","enum":["ACCOUNT","LOAN"]},"rateType":{"type":"string","enum":["FIXED","PERCENTAGE"]},"rate":{"type":"number"}}},"ProductResponse":{"type":"object","properties":{"products":{"type":"array","items":{"$ref":"#/components/schemas/ProductItem"}}}},"DefinitionResponse":{"type":"object","properties":{"productKey":{"type":"string"},"description":{"type":"string"},"type":{"type":"string"},"rate":{"type":"number"},"payRate":{"$ref":"#/components/schemas/PayRateDto"},"createdDate":{"type":"string","format":"date-time"},"modifiedDate":{"type":"string","format":"date-time"}}},"ProductDefinitionResponse":{"type":"object","properties":{"definitions":{"type":"array","items":{"$ref":"#/components/schemas/DefinitionResponse"}}}}}}}